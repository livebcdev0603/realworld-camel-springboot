<routeConfigurations>
  <routeConfiguration id="no-such-user-error">
    <onException>
      <exception>javax.persistence.NonUniqueResultException</exception>
      <handled><constant>true</constant></handled>

      <setProperty name="ownErrorMessage">
        <constant>No such user</constant>
      </setProperty>
      <setHeader name="CamelHttpResponseCode">
        <constant>422</constant>
      </setHeader>

      <to uri="direct:returnError" />
    </onException>
  </routeConfiguration>
</routeConfigurations>
