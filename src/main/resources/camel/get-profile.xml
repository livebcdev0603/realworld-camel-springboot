<routes xmlns="http://camel.apache.org/schema/spring">
  <route id="direct_getProfileByUsername" routeConfigurationId="maybe-verify-login,generic-error">
    <from uri="direct:getProfileByUsername"/>

    <to uri="direct:getUserByName" />

    <setProperty name="__checkFollow"><simple>${body}</simple></setProperty>
    <to uri="sql:classpath:sql/check-follow.sql?outputType=SelectOne&amp;outputHeader=__me_follower" />

    <to uri="direct:returnUserProfile" />
  </route>
</routes>
